<!DOCTYPE html><html lang="en">  <head>    <meta charset="utf-8"></meta>    <link href="/FlipDBDoc/Functions.css" rel="stylesheet"></link>  </head>  <body>    <main>      <h1>percentAcross</h1>      <p>Type:{.prefix}</p>      <p>Aggregate{.info}</p>      <p>Categories:{.prefix}</p>      <p>Arithmetic{.info}</p>      <p>Computes percentage of subgroup within a group.{.purpose}</p>      <pre>        <code>R=[Y] percentAcross X [B]</code>      </pre>      <p>X may be numeric or Char. B is a Boolean restriction. R is the      percentage of X where B is true. Y is integer and is an optional      rounding factor. If X is character, the percentage is based on row      count.</p>      <p>This function has special handling when used in the context of      a cross-tab query.</p>      <p>While B is optional, it is only useful to omit when percentAcross      is used under a cross-tab query.</p>      <p>See also: →[percentDown], →[percentOverall]</p>      <p>For numeric X this function is equivalent to:</p>      <pre>        <code>Y round 100 * (sum X where B) / sum X</code>      </pre>      <p>For Char X this function is equivalent to:</p>      <pre>        <code>Y round 100 * (count X where B) / count X</code>      </pre>      <h2>Examples</h2>      <pre>        <code>      D=10 20 10 5 5 30 20      B=1  0  0  1 1 0  1      sum D┌────┐│100 │└Int8┘      percentAcross D B┌─────┐│40   │└Float┘      percentAcross D (20 gt D)┌─────┐│30   │└Float┘      D='Tim,Mike,Tom,Terry,Jon,Len'      percentAcross D (D like 'T%')┌─────┐│50   │└Float┘</code>      </pre>    </main>  </body></html>
