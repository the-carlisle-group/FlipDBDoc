<!DOCTYPE html><html lang="en">  <head>    <meta charset="utf-8"></meta>    <link href="/FlipDBDoc/Functions.css" rel="stylesheet"></link>  </head>  <body>    <main>      <h1>lag</h1>      <p>Type:{.prefix}</p>      <p>Hybrid{.info}</p>      <p>Categories:{.prefix}</p>      <p>Misc{.info}</p>      <pre>        <code>R=lag X Y Z [A [B]]</code>      </pre>      <p>X must be a column expression. Y must be a scalar Integer. Z must      be a scalar value appropriate as a fill element for the type of X.</p>      <p>When only X,Y and Z are provided, R is X shifted down Y rows,      with the Y vacant rows filled with Z.</p>      <p>A and B are optional. If A but not B is provided, A must be Integer      representing observation numbers corresponding to values in X. The      result R is then X where the observation number is equal to A-Y.      If no observation number is found, the result is filled with Z. Observation      numbers may not be found due to missing intermediate observations      in addition to the usual case where the first Y values by definition      are not available. Observation numbers may be computed using the      →[toObservationNumber] function.</p>      <p>If A and B are both provided, A must be a Date or DateTime, and      B is Char and must be one of 'year' 'month' 'day' 'hour' 'minute'      or 'second'. A and B are used to compute an observation number and      the result R is just as immediately above.</p>      <h2>Examples</h2>      <pre>        <code>      B1=1 2 3 4 5      lag B1 2 ¯1┌────┐↓-1  ││-1  ││ 1  ││ 2  ││ 3  │└Int8┘      B1='Mike,Tim,Jon,Henry'      lag B1 2 '***'┌───────┐↓***    ││***    ││Mike   ││Tim    │└Char(5)┘</code>      </pre>    </main>  </body></html>
