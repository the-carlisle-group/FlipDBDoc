<!DOCTYPE html><html lang="en">  <head>    <meta charset="utf-8"></meta>    <base href="/FlipDBDoc"/>    <link href="/UserGuide.css" rel="stylesheet"></link>  </head>  <body>    <main>      <h1>File Storage</h1>      <p>FlipDB provides file storage and retrieval. Files may be associated      with the server in general and stored under the URL:</p>      <pre>        <code>/Files</code>      </pre>      <p>Files may also be stored in association with a particular database.      For example, files associated with the SandP database are stored      under the URL:</p>      <pre>        <code>/Databases/SandP/Files</code>      </pre>      <p>Files may be stored in an arbitrary heirarchy of sub folders.      For example, a PUT to:</p>      <pre>        <code>/Databases/SandP/Files/MyFolder1/Myfolder2/MyFile.txt.</code>      </pre>      <p>will associate the payload file with this folder heirarchy. Note      that folders only implicitly exist on the server to the extent that      they have a file in them.</p>      <h2>Putting Files on the Server</h2>      <p>The PUT method will create or replace a single file on the server.      The URL for a PUT is the desired full path and name of the file.      For example:</p>      <pre>        <code>PUT /Files/MyFolder/Hello World.Textblah blah</code>      </pre>      <h2>Posting Files to the Server</h2>      <p>The POST method will create or replace multiple files on the server.      The URL for a POST is the parent folder that will contain all of      the files in the payload. The payload of a POST may be one or more      files. If it is one file, and that file is a .zip file, then the      server uncompresses it and creates or replaces a resource for each      file in the compressed folder. To put a zipped folder on the server      as a single binary file, that is without unzipping it, the PUT method      should be used.</p>      <h2>Getting Files</h2>      <p>The GET method is used to retrieve files and folders. A GET on      a file resource returns the bytes of the file as the payload. The      Content-Type is always application/octet-stream, regardless of the      Accept header in the request.</p>      <pre>        <code>GET /Files/Files/.......</code>      </pre>      <p>A GET on a folder resource returns either a list of the contents      of the folder including files and sub folders, or all of the files      in the folder in a single zip file, depending on the Accept request      header.</p>      <p>If the accept request header is application/json or text/html,      then the result is a list of the contents of the folder:</p>      <pre>        <code>GET /File/folder..........</code>      </pre>      <p>If the Accept request header is application/zip, then the result      is a compressed folder containing the actual files.</p>      <pre>        <code></code>      </pre>      <p>Analternatvie to using the accept header, to support web browsers,</p>      <pre>        <code>GET /File/folder?type=zip......</code>      </pre>      <pre>        <code>GET /File/Subfolder</code>      </pre>      <h2>Deleting Files</h2>      <p>The DELETE method is used to delete a file or a folder and all      of its contents.</p>      <pre>        <code>DELETE /Files/File......</code>      </pre>    </main>  </body></html>
