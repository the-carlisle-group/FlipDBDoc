<!DOCTYPE html><html lang="en">  <head>    <meta charset="utf-8"></meta>    <base href="/FlipDBDoc"></base>    <link href="/UserGuide.css" rel="stylesheet"></link>  </head>  <body>    <main>      <h1>Introduction to Reporting</h1>      <p>FlipDB reports can replace extremely complex spreadsheets with      a vastly simpler, linear design; one that is much easier to write,      read, maintain and audit. A FlipDB report may be thought of as a      highly parameterized, highly structured program.</p>      <p>A FlipDB report begins with the specification of the 竊端*.Properties.DataSource]      property, which specifies a default database and table. This property      is discussed at length in the 竊端DataSource|next section].</p>      <p>After the DataSource is specified, a report continues with the      optional specification of global variables via the 竊端*.Globals] property,      an expression set evaluated in the context of the DataSource. Typical      globals might include constants like an as-of date, or a company      name, but it may also include any arbitrary expression. For example:</p>      <p>        | Name | Expression |------ | ----------- |        <code>AsOfDate</code>        |        <code>2020/12/31</code>        |        <code>Company</code>        |        <code>'Carlisle Group'</code>        |        <code>WestRegion</code>        |        <code>'MT,CO,ID,WY'</code>        |        <code>GrandTotal</code>        |        <code>sum Balance</code>      </p>      <p>        One of the benefits of an expression like        <code>GrandTotal</code>        above is that it operates outside the scope of where clauses in        subsequent queries.      </p>      <p>After the DataSource and Globals are specified, a FlipDB report      continues with the specification of one or more 竊端*.Objects.Query|Queries].      A query may access globals by using the Globals propertypace. (Note      that Globals is thus a reserved word within a report.) For example,      a query might include the following where clause:</p>      <p>        | Expression | |------ | |        <code>State in Globals.WestRegion</code>        |      </p>      <p>        The result of the query itself is automatically injected into the        Globals propertyspace, as a sub propertyspace, using the the name        of the query. Thus any query can reference values computed in a        previous query. For example, consider a query named        <code>GeoDist</code>        that produces the following:      </p>      <table>        <thead>          <tr>            <th class="center">State</th>            <th class="center">Count</th>            <th class="center">Balance</th>          </tr>        </thead>        <tbody>          <tr>            <td class="center">NY</td>            <td class="center">1,125</td>            <td class="center">23,423,345</td>          </tr>          <tr>            <td class="center">NJ</td>            <td class="center">56</td>            <td class="center">1,435,354</td>          </tr>          <tr>            <td class="center">CT</td>            <td class="center">314</td>            <td class="center">10,454,198</td>          </tr>          <tr>            <td class="center">Other</td>            <td class="center">17</td>            <td class="center">565,356</td>          </tr>        </tbody>      </table>      <p>After this query executes, a propertyspace named GeoDist will      be accessible uner the Globals propertyspace. In a subsequent query      the following expression computes the total balance for New York      and New Jersey from the result of the GeoDist query:</p>      <pre>        <code>   sum Globals.GeoDist.Balance where Globals.GeoDistState in 'NY,NJ'</code>      </pre>      <p>In addition, a query may inject arbitrary values into the Globals      propertyspace to be used by subsequent queries. Consider this select      clause of an ungrouped query:</p>      <p>        | Name | Expression | Hide| |--------------------|------------------------|--|        |        <code>LoanID</code>        |        <code>LoanID</code>        | 0| |        <code>Balance</code>        |        <code>Balance</code>        | 0| |        <code>InterestRate</code>        |        <code>RATE</code>        | 0| |        <code>MonthlyInterest</code>        |        <code>Balance * Rate / 1200</code>        | 0| |        <code>Globals.TotalInt</code>        |        <code>sum MonthlyInterest</code>        | 1|      </p>      <p>        Here the variable        <code>TotalInt</code>        is assigned into the Globals space for later use. The Hide column        is used to prevent TotalInt being retured as part of the query.      </p>      <p>In this way, every value computed by a query can be accessed and      used for further analysis in subsequent queries.</p>    </main>  </body></html>
