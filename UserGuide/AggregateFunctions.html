<!DOCTYPE html><html lang="en">  <head>    <meta charset="utf-8"></meta>    <link href="/FlipDBDoc/UserGuide.css" rel="stylesheet"></link>  </head>  <body>    <main>      <h1>Aggregate Functions</h1>      <p>Aggregate functions summarize data and return a scalar result      from a simple column. For example, the sum function adds up the numbers      in a column:</p>      <pre>        <code>      sum 1 2 3 4 5 6┌────┐│21  │└Int8┘</code>      </pre>      <p>When applied to a partitioned column, an aggregate function operates      on each item of the column individually. Consider the following partitioned      column:</p>      <pre>        <code>      a=enclose (1 2 3) (4 5) (6 7 8 9)      a┌─────────┐↓[1,2,3]  ││[4,5]    ││[6,7,8,9]│└Int8─────┘</code>      </pre>      <p>When sum is applied to this column, it adds up the numbers in      each item yielding a 3 item simple column:</p>      <pre>        <code>     sum a┌────┐↓6   ││9   ││30  │└Int8┘</code>      </pre>      <p>Similarly, when an aggregate function is applied to an enclosed      column it operates on values inside the item and produces a scalar      result:</p>      <pre>        <code>      b=enclose 1 2 3 4 5 6      b┌─────────────┐│[1,2,3,4,5,6]│└Int8─────────┘      sum b┌────┐│21  │└Int8┘</code>      </pre>      <p>When applied to an empty simple column, an aggregate function      still produces a scalar. The value of this scalar is usually related      to the identity function associated with the aggregate function.      Thus the sum function produces a 0 when applied to an empty column:</p>      <pre>        <code>      sum emptyInteger┌────┐│0   │└Int8┘</code>      </pre>      <p>While the product function produces a 1 when applied to an empty      column:</p>      <pre>        <code>      product emptyInteger┌────┐│1   │└Int8┘</code>      </pre>      <p>Finally, when applied to a scalar item, an aggregate function      returns its argument unchanged:</p>      <pre>        <code>      sum 5┌────┐│5   │└Int8┘</code>      </pre>      <p>All aggregate functions work in this way. Thus, an aggregate function      applied to a partitioned column always returns a simple column of      the same shape, and an aggregate function applied to a simple column      always returns a scalar column.</p>      <p>FlipDB provides a complete set of aggregate numeric, logical,      statistical, and financial functions.</p>    </main>  </body></html>
